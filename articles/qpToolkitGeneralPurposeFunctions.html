<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>qpToolkit General Purpose Functions â€¢ qpToolkit</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="qpToolkit General Purpose Functions">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qpToolkit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ASeriesofqpToolkitVignettes.html">qpToolkit Vignettes</a>
    </li>
    <li>
      <a href="../articles/CreateDemographicsTable.html">Creating a Demographics Table</a>
    </li>
    <li>
      <a href="../articles/ExamplesnlmexxxFunctionsqpToolkit.html">Examples_nlme_xxx_Functions_qpToolkit</a>
    </li>
    <li>
      <a href="../articles/ExamplesnmxxxFunctionsqpToolkit.html">Examples nm_xxx Functions qpToolkit</a>
    </li>
    <li>
      <a href="../articles/RunaNONMEMAnalysis.html">Run a NONMEM Analysis</a>
    </li>
    <li>
      <a href="../articles/qPColorPalette.html">qPharmetra Color Palette</a>
    </li>
    <li>
      <a href="../articles/qpToolkitGeneralPurposeFunctions.html">qpToolkit General Purpose Functions</a>
    </li>
    <li>
      <a href="../articles/qpToolkitPKPDpredictionFunctions.html">qpToolkit PKPD Prediction Functions</a>
    </li>
    <li>
      <a href="../articles/qpToolkitPlottingTips.html">qpToolkit General Purpose Functions</a>
    </li>
    <li>
      <a href="../articles/qpToolkitgetFunctions.html">qpToolkit get_xxx Functions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>qpToolkit General Purpose Functions</h1>
                        <h4 class="author">Klaas Prins</h4>
            
            <h4 class="date">2019-03-01</h4>
      
      
      <div class="hidden name"><code>qpToolkitGeneralPurposeFunctions.Rmd</code></div>

    </div>

    
    
<p>Kick off by creating some play data with PK and PD data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">pkpdData =<span class="st"> </span><span class="kw">example.pkpdData</span>()</a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"extract.number"</span>)</a></code></pre></div>
<pre><code>## 
## extrc.&gt; extract.number("c76")
## [1] 76
## 
## extrc.&gt; extract.number("c76c7")
## [1] 76
## 
## extrc.&gt; extract.number("BLOQ = 0.144")
## [1] 0.144</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"extract.character"</span>)</a></code></pre></div>
<pre><code>## 
## extrc.&gt; extract.character(x="df12Lee31df")
## [1] "df"  "Lee" "df" 
## 
## extrc.&gt; extract.character(x="df1231df", TRUE)
## [1] "dfdf"</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"cut3"</span>)</a></code></pre></div>
<pre><code>## 
## cut3&gt; pkpdData = example.pkpdData()
## 
## cut3&gt; sunique(cut3(pkpdData$wt, g=10, levels.mean=TRUE))
##  [1] 57.867 67.250 71.389 73.429 76.077 78.471 80.455 82.100 86.462 94.917
## 
## cut3&gt; lunique(cut3(pkpdData$wt, g=10, levels.mean=TRUE))
## [1] 10</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"geomean"</span>)</a></code></pre></div>
<pre><code>## 
## geomen&gt; set.seed(1234)
## 
## geomen&gt; x = rlnorm(1000)
## 
## geomen&gt; mean(x)
## [1] 1.606631
## 
## geomen&gt; geomean(x)
## [1] 0.9737534</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"expand.data"</span>)</a></code></pre></div>
<pre><code>## 
## expnd.&gt; input.df = data.frame(A=1:2,B=2:3,C=4:5)
## 
## expnd.&gt; input.df
##   A B C
## 1 1 2 4
## 2 2 3 5
## 
## expnd.&gt; expand.data(input.df, values = c(1,3,7), "Klaas")
##     A B C Klaas
## 1   1 2 4     1
## 2   2 3 5     1
## 1.1 1 2 4     3
## 2.1 2 3 5     3
## 1.2 1 2 4     7
## 2.2 2 3 5     7</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"geomean.smedian.hilow"</span>)</a></code></pre></div>
<pre><code>## Warning in example("geomean.smedian.hilow"): no help found for
## 'geomean.smedian.hilow'</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"formatted.signif"</span>)</a></code></pre></div>
<pre><code>## 
## frmtt.&gt; formatted.signif(c(5,4.99, 4.99999,5.0000001,5001),4)
## [1] "5.000" "4.990" "5.000" "5.000" "5001" 
## 
## frmtt.&gt; numvec = c(5,4.99, 4.99999,5.0000001,5001, 0.00005,101,39.9)
## 
## frmtt.&gt; print(
## frmtt.+    xtable(
## frmtt.+       data.frame(original=numvec
## frmtt.+                  ,latex.TRUE= formatted.signif(numvec,3, TRUE,FALSE)
## frmtt.+                  ,align.TRUE= formatted.signif(numvec,3, FALSE,TRUE)
## frmtt.+                  ,all.TRUE = formatted.signif(numvec,3, TRUE,TRUE)
## frmtt.+       )
## frmtt.+    )
## frmtt.+    , booktabs=TRUE
## frmtt.+    , sanitize.text.function = identity
## frmtt.+ )
## % latex table generated in R 3.5.1 by xtable 1.8-3 package
## % Fri Mar  1 06:00:02 2019
## \begin{table}[ht]
## \centering
## \begin{tabular}{rrlll}
##   \toprule
##  &amp; original &amp; latex.TRUE &amp; align.TRUE &amp; all.TRUE \\ 
##   \midrule
## 1 &amp; 5.00 &amp; 5.00 &amp; $\phantom{00}$5.00 &amp; $\phantom{00}$5.00 \\ 
##   2 &amp; 4.99 &amp; 4.99 &amp; $\phantom{00}$4.99 &amp; $\phantom{00}$4.99 \\ 
##   3 &amp; 5.00 &amp; 5.00 &amp; $\phantom{00}$5.00 &amp; $\phantom{00}$5.00 \\ 
##   4 &amp; 5.00 &amp; 5.00 &amp; $\phantom{00}$5.00 &amp; $\phantom{00}$5.00 \\ 
##   5 &amp; 5001.00 &amp; 5.00$\cdot$10$^{3}$ &amp; $\phantom{00}$5.00e+03 &amp; $\phantom{00}$5.00$\cdot$10$^{3}$ \\ 
##   6 &amp; 0.00 &amp; 5.00$\cdot$10$^{-5}$ &amp; $\phantom{00}$5.00e-05 &amp; $\phantom{00}$5.00$\cdot$10$^{-5}$ \\ 
##   7 &amp; 101.00 &amp; 101 &amp; $\phantom{}$101 &amp; $\phantom{}$101 \\ 
##   8 &amp; 39.90 &amp; 39.9 &amp; $\phantom{0}$39.9 &amp; $\phantom{0}$39.9 \\ 
##    \bottomrule
## \end{tabular}
## \end{table}
## 
## frmtt.&gt; # now take this to a LaTeX compiler!
## frmtt.&gt; 
## frmtt.&gt; 
## frmtt.&gt;</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"fxs"</span>)</a></code></pre></div>
<pre><code>## 
## fxs&gt; fxs(c(0,1,34, 50000), pattern="    ")
## [1] "   0"  "   1"  "  34"  "50000"
## 
## fxs&gt; fxs(c(0,1,34, 50000), "000000")
## [1] "000000" "000001" "000034" "050000"</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"insert.blanks"</span>)</a></code></pre></div>
<pre><code>## 
## insrt.&gt; pkpdData = example.pkpdData()
## 
## insrt.&gt; tmp = pkpdData[1:3,]
## 
## insrt.&gt; tmp
##     id dose age wt  ht  bmi sex  race endpoint     trt time type       cl
## 1    1    0  38 69 197 17.8   F Black   effect Placebo    0   PK 3.080465
## 1.1  1    0  38 69 197 17.8   F Black   effect Placebo    1   PK 3.080465
## 1.2  1    0  38 69 197 17.8   F Black   effect Placebo    2   PK 3.080465
##            v        keo value
## 1   16.17536 0.04175091  0.05
## 1.1 16.17536 0.04175091  0.05
## 1.2 16.17536 0.04175091  0.05
## 
## insrt.&gt; insert.blank.line(tmp, 2)
##     id dose age wt  ht  bmi sex  race endpoint     trt time type
## 1    1    0  38 69 197 17.8   F Black   effect Placebo    0   PK
## 1.1  1    0  38 69 197 17.8   F Black   effect Placebo    1   PK
## 11   ~    ~   ~  ~   ~    ~   ~     ~        ~       ~    ~    ~
## 1.2  1    0  38 69 197 17.8   F Black   effect Placebo    2   PK
##                   cl                v                keo value
## 1   3.08046523227664 16.1753553247532 0.0417509087217943  0.05
## 1.1 3.08046523227664 16.1753553247532 0.0417509087217943  0.05
## 11                 ~                ~                  ~     ~
## 1.2 3.08046523227664 16.1753553247532 0.0417509087217943  0.05</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"isNumeric"</span>)</a></code></pre></div>
<pre><code>## 
## isNmrc&gt; isNumeric(12)
## [1] TRUE
## 
## isNmrc&gt; isNumeric("x")
## [1] FALSE
## 
## isNmrc&gt; isNumeric(c(1,2,3,"b",5,6))
## [1]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"asNumeric"</span>)</a></code></pre></div>
<pre><code>## 
## asNmrc&gt; as.numeric(c("3.45","1000","1e6","&lt;BLOQ","NA","&lt;0.100"))</code></pre>
<pre><code>## Warning in eval(ei, envir): NAs introduced by coercion</code></pre>
<pre><code>## [1] 3.45e+00 1.00e+03 1.00e+06       NA       NA       NA
## 
## asNmrc&gt; asNumeric(c("3.45","1000","1e6","&lt;BLOQ","NA","&lt;0.100"))</code></pre>
<pre><code>## Warning in asNumeric(c("3.45", "1000", "1e6", "&lt;BLOQ", "NA", "&lt;0.100")):
## NAs introduced by coercion</code></pre>
<pre><code>## [1] 3.45e+00 1.00e+03 1.00e+06       NA       NA       NA
## 
## asNmrc&gt; asNumeric(c("3.45","1000","1e6","&lt;BLOQ","NA","&lt;0.100"), missing.code = c("&lt;BLOQ","NA","&lt;0.100"))
## [1] 3.45e+00 1.00e+03 1.00e+06       NA       NA       NA</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"locf"</span>)</a></code></pre></div>
<pre><code>## 
## locf&gt; locf(c(NA,NA,1,NA,NA,2,NA,NA,NA,NA,3))
##  [1] 1 1 1 1 1 2 2 2 2 2 3
## 
## locf&gt; # Note that initial missing values take next value (1), so next value carried backward at beginning
## locf&gt; # Example with "."
## locf&gt; locf(c(".",".",1,".",".",2,".",".",".",".",3), na=".")
##  [1] "1" "1" "1" "1" "1" "2" "2" "2" "2" "2" "3"
## 
## locf&gt; # Note, if you have text in the vector, it is all converted to text.  This is by design so we can use different types.
## locf&gt; # Examples with factors
## locf&gt; fac=as.factor(c(".",".","A",".",".","B",".",".",".",".","C")) 
## 
## locf&gt; locf(fac,na=".")
##  [1] A A A A A B B B B B C
## Levels: A B C
## 
## locf&gt; fac=as.factor(c(NA,NA,"A",NA,NA,"B",NA,NA,NA,NA,"C")) 
## 
## locf&gt; locf(fac,na=NA)
##  [1] A A A A A B B B B B C
## Levels: A B C</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"miss.col"</span>)</a></code></pre></div>
<pre><code>## 
## mss.cl&gt; my.df.1 = data.frame(a=1:3,b=4:6,c=7:9)
## 
## mss.cl&gt; my.df.2 = data.frame(a=1:3,b=4:6)
## 
## mss.cl&gt; miss.col(my.df.1,my.df.2)
## [1] "c"
## 
## mss.cl&gt; #"c"
## mss.cl&gt; miss.col(my.df.2,my.df.1)
## character(0)
## 
## mss.cl&gt; #character(0)
## mss.cl&gt; 
## mss.cl&gt; 
## mss.cl&gt;</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"orderedNumeric"</span>)</a></code></pre></div>
<pre><code>## Warning in example("orderedNumeric"): no help found for 'orderedNumeric'</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"reorder.names"</span>)</a></code></pre></div>
<pre><code>## 
## rrdr.n&gt; testData = expand.grid(start=1,middle=LETTERS[1:3], end=c("K","L"))
## 
## rrdr.n&gt; reorder.names(testData, who = "start", after = "end")
##   middle end start
## 1      A   K     1
## 2      B   K     1
## 3      C   K     1
## 4      A   L     1
## 5      B   L     1
## 6      C   L     1</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"repeath.nth"</span>)</a></code></pre></div>
<pre><code>## Warning in example("repeath.nth"): no help found for 'repeath.nth'</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"sample.by.id"</span>)</a></code></pre></div>
<pre><code>## 
## smpl..&gt; my.ids = rep(1:5,each=3)
## 
## smpl..&gt; my.ids
##  [1] 1 1 1 2 2 2 3 3 3 4 4 4 5 5 5
## 
## smpl..&gt; set.seed(123456)
## 
## smpl..&gt; sample.by.id(my.ids, samples=rgamma(1000,1))
##  [1] 0.9810881 0.9810881 0.9810881 0.5918479 0.5918479 0.5918479 0.5658642
##  [8] 0.5658642 0.5658642 0.5009604 0.5009604 0.5009604 3.6225063 3.6225063
## [15] 3.6225063
## 
## smpl..&gt; my.ids = rep(1:5,times=3)
## 
## smpl..&gt; my.ids
##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
## 
## smpl..&gt; sample.by.id(my.ids, samples=rgamma(1000,1))
##  [1] 0.60121803 1.14291566 0.08196904 0.19867143 1.16778467 0.60121803
##  [7] 1.14291566 0.08196904 0.19867143 1.16778467 0.60121803 1.14291566
## [13] 0.08196904 0.19867143 1.16778467
## 
## smpl..&gt; #one unique value per id
## smpl..&gt; sample.by.id(unique(my.ids), samples=rgamma(1000,1))
## [1] 1.3269885 0.8346449 1.0795884 2.3052819 1.6709488
## 
## smpl..&gt; tapply(sample.by.id(my.ids, samples = rgamma(1000,1)),my.ids, unique) 
##         1         2         3         4         5 
## 0.5174391 0.2233351 1.5833289 0.3822135 0.0116271</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"rnorm.by.id"</span>)</a></code></pre></div>
<pre><code>## 
## rnrm..&gt; sam = rnorm.by.id(pkpdData$id, mean = 0, sd = 1)
## 
## rnrm..&gt; tapply(sam,pkpdData$id, unique) 
##            1            2            3            4            5 
##  0.230658927 -1.544960724  0.909072953 -1.752311114 -1.479183758 
##            6            7            8            9           10 
##  2.367092104  0.145988413 -0.297807478  0.769563800 -0.369884647 
##           11           12           13           14           15 
##  0.725522888 -0.194899945 -0.369349546  1.322726065 -0.563233946 
##           16           17           18           19           20 
##  2.183508368  0.390014043  2.044048228 -1.180644683 -2.129990504 
##           21           22           23           24           25 
## -1.435763802 -0.131669586  2.087576592 -0.461854329  1.473495587 
##           26           27           28           29           30 
##  0.683551821 -0.521518446 -0.894733400  0.752101156  0.160387616 
##           31           32           33           34           35 
##  1.712559376  1.089642156  1.804591219 -2.123576645  1.907616298 
##           36           37           38           39           40 
##  0.271911557  0.277589662 -0.353323595 -0.272888694 -1.895286872 
##           41           42           43           44           45 
## -0.723705573 -0.105431437 -0.253569020 -0.429120194  0.318408055 
##           46           47           48           49           50 
## -0.556313699  0.681210942 -0.161147213 -0.697367982 -0.137691579 
##           51           52           53           54           55 
##  1.098610034  0.648026200 -0.804697386  2.340845648 -0.955130460 
##           56           57           58           59           60 
##  0.238656761 -2.450813678  0.121321236 -2.483687890 -0.515832279 
##           61           62           63           64           65 
##  2.912983604 -0.192633598  1.087323281 -0.785828428  0.623944752 
##           66           67           68           69           70 
##  0.109745594 -0.417683012 -1.118685172  0.702426028  0.682821187 
##           71           72           73           74           75 
## -1.048945207  0.237049973 -0.909238486 -0.926818811 -0.346760509 
##           76           77           78           79           80 
##  0.290805824 -0.691603665 -0.908821114 -2.135752683  0.898685966 
##           81           82           83           84           85 
##  0.741332538 -0.697598418  0.058995323 -1.117942129 -2.153397857 
##           86           87           88           89           90 
## -0.004490926  0.312111999  1.271032950  1.416745367  0.705376734 
##           91           92           93           94           95 
##  1.263180782 -1.788593189 -0.907172267 -0.390791912  0.222278192 
##           96           97           98           99          100 
## -0.014428719 -0.498670562 -0.777438970 -0.140253281 -0.427152424 
##          101          102          103          104          105 
## -0.577832125 -0.603835051  0.290971358  0.357382022 -0.864030858 
##          106          107          108          109          110 
## -0.794165355 -0.794796689 -0.073028264  1.337715058 -0.219185610 
##          111          112          113          114          115 
##  0.662807942  0.267163250 -1.992835533 -1.271476999 -0.933952821 
##          116          117          118          119          120 
##  0.663575738  1.489669029  1.177958237 -1.171854036 -0.295026113 
##          121          122          123          124          125 
##  0.710411686  0.634081706 -0.125045123  0.436202417 -0.349790677 
##          126          127          128 
##  0.157629022  1.589589146  0.114392757</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"shuffle.list"</span>)</a></code></pre></div>
<pre><code>## 
## shffl.&gt; test = list(A=list(a=1,b=2,c=3), B = list(a=2,b=1,c=0))
## 
## shffl.&gt; shuffle.list(test)
## $a
## $a$A
## [1] 1
## 
## $a$B
## [1] 2
## 
## 
## $b
## $b$A
## [1] 2
## 
## $b$B
## [1] 1
## 
## 
## $c
## $c$A
## [1] 3
## 
## $c$B
## [1] 0</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"swap"</span>)</a></code></pre></div>
<pre><code>## 
## swap&gt; my.vect = c(1,2,2,2,4,4,4,3,3,3,3)
## 
## swap&gt; swap(my.vect,c(1,2,3,4),c(11,22,33,44))
##  [1] 11 22 22 22 44 44 44 33 33 33 33</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"tabulate.samples"</span>)</a></code></pre></div>
<pre><code>## 
## tblt.s&gt; my.df = data.frame( analyte.1=Cs(1,2,3,4,BLOQ,5,6,NS,7,M),
## tblt.s+                    analyte.2=Cs(1,2,BLOQ,M,3,BLOQ,5,6,NS,7))
## 
## tblt.s&gt; tabulate.samples(data=my.df, analyte="analyte.1")
##           BLOQ             NS              M Numeric.Values            All 
##              1              1              1              7             10 
## 
## tblt.s&gt; tabulate.samples(data=my.df, analyte="analyte.2")
##           BLOQ             NS              M Numeric.Values            All 
##              2              1              1              6             10</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"trimSpace"</span>)</a></code></pre></div>
<pre><code>## 
## trmSpc&gt; trimSpace(" Hello ")
## [1] "Hello"
## 
## trmSpc&gt; trimSpace(" Hello there ")
## [1] "Hello there"</code></pre>
<div id="functions-with-graphs" class="section level2">
<h2 class="hasAnchor">
<a href="#functions-with-graphs" class="anchor"></a>functions with graphs</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"logit.inv"</span>)</a></code></pre></div>
<pre><code>## 
## lgt.nv&gt; myVector = runif(n = 1000, min=0.001,max = 0.999)
## 
## lgt.nv&gt; myVector.logit = logit(myVector)
## 
## lgt.nv&gt; par(mfrow = c(1,3))
## 
## lgt.nv&gt; hist(myVector)</code></pre>
<pre><code>## 
## lgt.nv&gt; hist(myVector.logit)</code></pre>
<pre><code>## 
## lgt.nv&gt; hist(logit.inv(myVector.logit))</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"unitDensity"</span>)</a></code></pre></div>
<pre><code>## 
## untDns&gt; standardNormal = unitDensity(qnorm(seq(0.0001,0.9999,length=1000),0,1))
## 
## untDns&gt; plot(standardNormal$x, standardNormal$y, col = qp.blue, type = 'l')</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"unitHistogram"</span>)</a></code></pre></div>
<pre><code>## 
## untHst&gt; set.seed(1234567)
## 
## untHst&gt; myvals = rnorm(10000,50,5)
## 
## untHst&gt; unitHistogram(myvals, xlab = "My Values", cex.lab = 1.25)</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"rgenpois"</span>)</a></code></pre></div>
<pre><code>## 
## rgenps&gt; genPois.samples = sapply(seq(0.3,-1.1,-0.2), function (DISP)
## rgenps+ {
## rgenps+   rgenpois(n=10000, lambda=22, disp = DISP)
## rgenps+ })
## 
## rgenps&gt; # plot across dispersion
## rgenps&gt; plot(range(genPois.samples), c(0,.25), type = "n", xlim = c(0,100), ylab = "Frequency")</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-4-2.png" width="672"></p>
<pre><code>## 
## rgenps&gt; for(i in 1 : ncol(genPois.samples)){
## rgenps+   gpDen = density(genPois.samples[,i], bw=1)
## rgenps+   lines(gpDen)
## rgenps+   text(mean(genPois.samples[,i])
## rgenps+        , max(gpDen$y)+0.015
## rgenps+        , round(mean(genPois.samples[,i]),1)
## rgenps+        , cex = 0.5
## rgenps+   )
## rgenps+ }
## 
## rgenps&gt; lines(density(rpois(10000, 11),bw=1), col = qp.green, lwd = 3)
## 
## rgenps&gt; text(3, 0.03, round(mean(rpois(10000, 11)), 1), col = qp.green)</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"boxcoxf"</span>)</a></code></pre></div>
<pre><code>## 
## boxcxf&gt; x = rnorm(1000, mean = 0, sd = 0.25)
## 
## boxcxf&gt; x.boxcox.pos = boxcoxf(0.5,x)
## 
## boxcxf&gt; x.boxcox.neg = boxcoxf(-3.5,x)
## 
## boxcxf&gt; par(mfrow=c(1,3))
## 
## boxcxf&gt; hist(x)</code></pre>
<pre><code>## 
## boxcxf&gt; hist(x.boxcox.pos)</code></pre>
<pre><code>## 
## boxcxf&gt; hist(x.boxcox.neg)</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-4-3.png" width="672"></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"doubleStack"</span>)</a></code></pre></div>
<pre><code>## 
## dblStc&gt; set.seed(1234)
## 
## dblStc&gt; myDF = data.frame(id=1:100)
## 
## dblStc&gt; myDF$wt = with(myDF, signif(rnorm.by.id(id, 76,15)))
## 
## dblStc&gt; myDF$age = with(myDF, signif(sample.by.id(id, samples = seq(18,99))))
## 
## dblStc&gt; myDF$sex = with(myDF, sample.by.id(id, samples = c("F","M")))
## 
## dblStc&gt; myDF$CL = with(myDF, signif(rnorm.by.id(id, 10,1)))
## 
## dblStc&gt; myDF$V = with(myDF, signif(rnorm.by.id(id, 3,0.25)))
## 
## dblStc&gt; stacked.df = doubleStack(myDF, vars1 = c("CL","V"), vars2 = c("wt","age","sex"))
## 
## dblStc&gt; head(myDF)
##   id      wt age sex      CL       V
## 1  1 57.8940  72   F 10.4852 2.85501
## 2  2 80.1614  61   M 10.6968 2.76168
## 3  3 92.2666  44   M 10.1855 2.95514
## 4  4 40.8145  80   F 10.7007 3.25245
## 5  5 82.4369  61   M 10.3117 3.00591
## 6  6 83.5908  78   F 10.7605 2.83774
## 
## dblStc&gt; head(stacked.df)
##   id variable1  value1 variable   value
## 1  1        CL 10.4852       wt  57.894
## 2  2        CL 10.6968       wt 80.1614
## 3  3        CL 10.1855       wt 92.2666
## 4  4        CL 10.7007       wt 40.8145
## 5  5        CL 10.3117       wt 82.4369
## 6  6        CL 10.7605       wt 83.5908
## 
## dblStc&gt; library(ggplot2)
## 
## dblStc&gt; ggplot(subset(stacked.df, variable != "sex"), aes(x=as.numeric(value), y = value1)) + 
## dblStc+    geom_point() + 
## dblStc+    stat_smooth(method="lm", col = lin.fit.col) +
## dblStc+    facet_grid(variable1 ~ variable,scales="free_y")</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-4-4.png" width="672"></p>
</div>
<div id="functions-with-graphs-1" class="section level2">
<h2 class="hasAnchor">
<a href="#functions-with-graphs-1" class="anchor"></a>functions with graphs</h2>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"logit.inv"</span>)</a></code></pre></div>
<pre><code>## 
## lgt.nv&gt; myVector = runif(n = 1000, min=0.001,max = 0.999)
## 
## lgt.nv&gt; myVector.logit = logit(myVector)
## 
## lgt.nv&gt; par(mfrow = c(1,3))
## 
## lgt.nv&gt; hist(myVector)</code></pre>
<pre><code>## 
## lgt.nv&gt; hist(myVector.logit)</code></pre>
<pre><code>## 
## lgt.nv&gt; hist(logit.inv(myVector.logit))</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"unitDensity"</span>)</a></code></pre></div>
<pre><code>## 
## untDns&gt; standardNormal = unitDensity(qnorm(seq(0.0001,0.9999,length=1000),0,1))
## 
## untDns&gt; plot(standardNormal$x, standardNormal$y, col = qp.blue, type = 'l')</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"unitHistogram"</span>)</a></code></pre></div>
<pre><code>## 
## untHst&gt; set.seed(1234567)
## 
## untHst&gt; myvals = rnorm(10000,50,5)
## 
## untHst&gt; unitHistogram(myvals, xlab = "My Values", cex.lab = 1.25)</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"rgenpois"</span>)</a></code></pre></div>
<pre><code>## 
## rgenps&gt; genPois.samples = sapply(seq(0.3,-1.1,-0.2), function (DISP)
## rgenps+ {
## rgenps+   rgenpois(n=10000, lambda=22, disp = DISP)
## rgenps+ })
## 
## rgenps&gt; # plot across dispersion
## rgenps&gt; plot(range(genPois.samples), c(0,.25), type = "n", xlim = c(0,100), ylab = "Frequency")</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-5-2.png" width="672"></p>
<pre><code>## 
## rgenps&gt; for(i in 1 : ncol(genPois.samples)){
## rgenps+   gpDen = density(genPois.samples[,i], bw=1)
## rgenps+   lines(gpDen)
## rgenps+   text(mean(genPois.samples[,i])
## rgenps+        , max(gpDen$y)+0.015
## rgenps+        , round(mean(genPois.samples[,i]),1)
## rgenps+        , cex = 0.5
## rgenps+   )
## rgenps+ }
## 
## rgenps&gt; lines(density(rpois(10000, 11),bw=1), col = qp.green, lwd = 3)
## 
## rgenps&gt; text(3, 0.03, round(mean(rpois(10000, 11)), 1), col = qp.green)</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"boxcoxf"</span>)</a></code></pre></div>
<pre><code>## 
## boxcxf&gt; x = rnorm(1000, mean = 0, sd = 0.25)
## 
## boxcxf&gt; x.boxcox.pos = boxcoxf(0.5,x)
## 
## boxcxf&gt; x.boxcox.neg = boxcoxf(-3.5,x)
## 
## boxcxf&gt; par(mfrow=c(1,3))
## 
## boxcxf&gt; hist(x)</code></pre>
<pre><code>## 
## boxcxf&gt; hist(x.boxcox.pos)</code></pre>
<pre><code>## 
## boxcxf&gt; hist(x.boxcox.neg)</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-5-3.png" width="672"></p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/example">example</a></span>(<span class="st">"doubleStack"</span>)</a></code></pre></div>
<pre><code>## 
## dblStc&gt; set.seed(1234)
## 
## dblStc&gt; myDF = data.frame(id=1:100)
## 
## dblStc&gt; myDF$wt = with(myDF, signif(rnorm.by.id(id, 76,15)))
## 
## dblStc&gt; myDF$age = with(myDF, signif(sample.by.id(id, samples = seq(18,99))))
## 
## dblStc&gt; myDF$sex = with(myDF, sample.by.id(id, samples = c("F","M")))
## 
## dblStc&gt; myDF$CL = with(myDF, signif(rnorm.by.id(id, 10,1)))
## 
## dblStc&gt; myDF$V = with(myDF, signif(rnorm.by.id(id, 3,0.25)))
## 
## dblStc&gt; stacked.df = doubleStack(myDF, vars1 = c("CL","V"), vars2 = c("wt","age","sex"))
## 
## dblStc&gt; head(myDF)
##   id      wt age sex      CL       V
## 1  1 57.8940  72   F 10.4852 2.85501
## 2  2 80.1614  61   M 10.6968 2.76168
## 3  3 92.2666  44   M 10.1855 2.95514
## 4  4 40.8145  80   F 10.7007 3.25245
## 5  5 82.4369  61   M 10.3117 3.00591
## 6  6 83.5908  78   F 10.7605 2.83774
## 
## dblStc&gt; head(stacked.df)
##   id variable1  value1 variable   value
## 1  1        CL 10.4852       wt  57.894
## 2  2        CL 10.6968       wt 80.1614
## 3  3        CL 10.1855       wt 92.2666
## 4  4        CL 10.7007       wt 40.8145
## 5  5        CL 10.3117       wt 82.4369
## 6  6        CL 10.7605       wt 83.5908
## 
## dblStc&gt; library(ggplot2)
## 
## dblStc&gt; ggplot(subset(stacked.df, variable != "sex"), aes(x=as.numeric(value), y = value1)) + 
## dblStc+    geom_point() + 
## dblStc+    stat_smooth(method="lm", col = lin.fit.col) +
## dblStc+    facet_grid(variable1 ~ variable,scales="free_y")</code></pre>
<p><img src="qpToolkitGeneralPurposeFunctions_files/figure-html/unnamed-chunk-5-4.png" width="672"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#functions-with-graphs">functions with graphs</a></li>
      <li><a href="#functions-with-graphs-1">functions with graphs</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jason Chittenden, Klaas Prins, Lee Hodge <lee.hodge></lee.hodge></p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
