<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Unzip function for zipped PsN output — nm.unzip • qpToolkit</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Unzip function for zipped PsN output — nm.unzip" />
<meta property="og:description" content="Many large files like XML outpout and covariance matrices are zipped by (qPharmetra's
 tweaked version of) PsN. To enable the parsing function of the nm.xxx domain to
 operate well this function unzips these files.  The unzip call is pulled from the system environment
 variable UNZIP_CALL on startup, or defaulted as stated below.  the %s in the call is replaced with the
 basename (no extension) of the file to unzip.  The unzip call can be modified by changing the
 option unzip.call. 
In fact, you need only specify target and command, i.e. what you expect and how
 you expect to get it. Paths are relative to the current directory." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qpToolkit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ASeriesofqpToolkitVignettes.html">qpToolkit Vignettes</a>
    </li>
    <li>
      <a href="../articles/CreateDemographicsTable.html">Creating a Demographics Table</a>
    </li>
    <li>
      <a href="../articles/ExamplesnlmexxxFunctionsqpToolkit.html">qpToolkit Examples for nlme_xxx Functions</a>
    </li>
    <li>
      <a href="../articles/ExamplesnmxxxFunctionsqpToolkit.html">qpToolkit Examples for nm_xxx Functions</a>
    </li>
    <li>
      <a href="../articles/RunaNONMEMAnalysis.html">Run a NONMEM Analysis</a>
    </li>
    <li>
      <a href="../articles/qPColorPalette.html">qPharmetra Color Palette</a>
    </li>
    <li>
      <a href="../articles/qpToolkitGeneralPurposeFunctions.html">qpToolkit General Purpose Functions</a>
    </li>
    <li>
      <a href="../articles/qpToolkitPKPDpredictionFunctions.html">qpToolkit PKPD Prediction Functions</a>
    </li>
    <li>
      <a href="../articles/qpToolkitPlottingTips.html">qpToolkit Plotting Tips</a>
    </li>
    <li>
      <a href="../articles/qpToolkitgetFunctions.html">qpToolkit get_xxx Functions</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Unzip function for zipped PsN output</h1>
    
    <div class="hidden name"><code>nm.unzip.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Many large files like XML outpout and covariance matrices are zipped by (qPharmetra's
 tweaked version of) PsN. To enable the parsing function of the <code>nm.xxx</code> domain to
 operate well this function unzips these files.  The unzip call is pulled from the system environment
 variable UNZIP_CALL on startup, or defaulted as stated below.  the %s in the call is replaced with the
 basename (no extension) of the file to unzip.  The unzip call can be modified by changing the
 option unzip.call.</p> 
<p>In fact, you need only specify target and command, i.e. what you expect and how
 you expect to get it. Paths are relative to the current directory.</p>
    </div>

    <pre class="usage"><span class='fu'>nm.unzip</span>(
  <span class='no'>run</span>,
  <span class='kw'>extension</span> <span class='kw'>=</span> <span class='st'>".xml"</span>,
  <span class='kw'>filename</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='no'>run</span>, <span class='no'>extension</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>""</span>),
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"nmDir"</span>), <span class='no'>run</span>),
  <span class='kw'>tmpdir</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span>(<span class='st'>"subdir"</span>),
  <span class='kw'>temp</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>outdir</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span>(<span class='no'>temp</span>, <span class='no'>tmpdir</span>, <span class='no'>path</span>),
  <span class='kw'>zip.filename</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='no'>path</span>, <span class='no'>filename</span>),
  <span class='kw'>zip.call</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"unzip.call"</span>),
  <span class='kw'>command</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/sprintf.html'>sprintf</a></span>(<span class='no'>zip.call</span>, <span class='no'>zip.filename</span>), <span class='st'>" -o"</span>, <span class='no'>outdir</span>),
  <span class='kw'>target</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='no'>outdir</span>, <span class='no'>filename</span>),
  <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>run</th>
      <td><p>run rootname (e.g. <code>run1</code>)</p></td>
    </tr>
    <tr>
      <th>extension</th>
      <td><p>file extension of the file to unzip. Could be ".xml", or ".cov", or ".cor" or anything else that has been zipped</p></td>
    </tr>
    <tr>
      <th>filename</th>
      <td><p>file name (excluding path) of the filename to extract. Is automatically populated with qP workflow defaults</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>directory where <code>run</code> resides</p></td>
    </tr>
    <tr>
      <th>tmpdir</th>
      <td><p>directory to use if temp is true</p></td>
    </tr>
    <tr>
      <th>temp</th>
      <td><p>if true, unzip to a unique temporary file path</p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>location for unzipped file</p></td>
    </tr>
    <tr>
      <th>zip.filename</th>
      <td><p>filename of the zip file to extract. Is automatically populated with qP workflow defaults</p></td>
    </tr>
    <tr>
      <th>zip.call</th>
      <td><p>full OS call to zip utility for unzipping. Defaults to "c:/progra~1/7-zip/7z e %s.7z" on windows. Option "-o" is currently appended by nm.unzip().</p></td>
    </tr>
    <tr>
      <th>command</th>
      <td><p>zip.call with filename substituted; passes to system</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>path for expected result; possibly identical to zip.filename</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>whether to suppress process messages</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>ignored arguments</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>(invisible) path to the unzipped file: especially useful if temp is true.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span>( <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"qpExampleDir"</span>),<span class='st'>"example1"</span>))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span>( <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"qpExampleDir"</span>),<span class='st'>"example1/example1.cov"</span>))</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'>nm.unzip</span>(<span class='kw'>run</span> <span class='kw'>=</span> <span class='st'>"example1"</span>, <span class='kw'>extension</span> <span class='kw'>=</span> <span class='st'>".cov"</span>,
<span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"qpExampleDir"</span>),<span class='st'>"example1"</span>),<span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; path: /tmp/RtmpTuZOdw/temp_libpath7337d5f9445/qpToolkit/NONMEM/example1 
#&gt; file: /tmp/RtmpTuZOdw/temp_libpath7337d5f9445/qpToolkit/NONMEM/example1/example1.cov 
#&gt; call: 7z e /tmp/RtmpTuZOdw/temp_libpath7337d5f9445/qpToolkit/NONMEM/example1/example1.cov.7z -o/tmp/RtmpTuZOdw/temp_libpath7337d5f9445/qpToolkit/NONMEM/example1 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span>( <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"qpExampleDir"</span>),<span class='st'>"example1/example1.cov"</span>))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.remove</a></span>( <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"qpExampleDir"</span>),<span class='st'>"example1/example1.cov"</span>))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span>(<span class='st'>'c:/progra~1/7-zip/7z.exe'</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='co'># If the above does not exist, consider:</span>
<span class='co'># options(unzip.call = 'C:/my-zip-path/7z e %s.7z') # or similar</span>
<span class='no'>tmp</span> <span class='kw'>&lt;-</span> <span class='fu'>nm.unzip</span>(
  <span class='kw'>run</span> <span class='kw'>=</span> <span class='st'>"example1"</span>,
  <span class='kw'>extension</span> <span class='kw'>=</span> <span class='st'>".cov"</span>,
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(
    <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"qpExampleDir"</span>),
    <span class='st'>"example1"</span>
  ),
 <span class='kw'>temp</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)
<span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span>( <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"qpExampleDir"</span>),<span class='st'>"example1/example1.cov"</span>))</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span>(<span class='no'>tmp</span>)</div><div class='output co'>#&gt; [1] TRUE</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jason Chittenden, Klaas Prins, Lee Hodge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


